<p id="notice"><%= notice %></p>

<% if !current_user.nil? %>
<h1>Listing Tweets</h1>

<table>
  <thead>
    <tr>
      <th>User</th>
      <th>Body</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
   
    <% @tweets.each do |tweet| %>
      <tr>
        <td><%= tweet.user_id %></td>
        <td><%= tweet.body %></td>
        <td><%= link_to 'Show', tweet %></td>
        <td><%= link_to 'Edit', edit_tweet_path(tweet) %></td>
        <td><%= link_to 'Destroy', tweet, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
        
      
    <% end %>
   
  </tbody>
</table>

<br>

<%= link_to 'New Tweet', new_tweet_path %>
<br>
<div>
 <% if @my_tweets.nil? %>
   <p>Value is nil unfortunately</p>
 <% else %>
      <% for tweet in  @my_tweets %>
  <% words = tweet.text.split(/ /) %>
  <% @hash_tags = [] %>
  <% for word in words %>
   <%  if word.include?("#") %>
        <% word.slice!(0) %>
    <%  @hash_tags << word %>
   <% end %>
  <% end %> 
  The tweet is <br/>
  <li>
    <%= tweet.text %>
      <br />
    <% if !@hash_tags.empty? %>
        The hash tags are

        <% for tag in @hash_tags %>
          <%= tag %>
        <% end %>
    <% end %>
  </li>

 <% end %>
 <br /> 
 <h2>News Articles</h2>
  <div>
      <% @news.each do |article|  %>
         <%=link_to article, article %> <br/>
      <% end %>
  </div>

 <% end %>

</div>
<% end %>

